(this.webpackJsonpbliss=this.webpackJsonpbliss||[]).push([[0],{53:function(n,e,t){},77:function(n,e,t){"use strict";t.r(e);var r,c,a,i,o,s,u,l,p,d,b,j,h,x,f,O,g,m,v,w,y,k,S,F=t(0),C=t.n(F),q=t(22),z=t.n(q),D=t(2),E=t(1),L={primary:"#007500",danger:"#EF5252",success:"#6BFA8B",gray:"#F3F3F3",fontSize:{default:"13px",small:"11px",large:"17px",extraLarge:"19px"},fontWeight:{light:300,regular:400,semiBold:600,bold:700,extraBold:800}},N=function(n){var e=n.children;return Object(E.jsx)(D.a,{theme:L,children:Object(E.jsx)(E.Fragment,{children:e})})},I=(t(53),t(13)),B=t(18),P=t(5),_=(t(54),t(4)),U=t.n(_),A=t(6),Q=t(8),J=t(15),K=t.n(J),M="https://private-anon-5a4497e834-blissrecruitmentapi.apiary-mock.com/",R=function(){var n=Object(A.a)(U.a.mark((function n(){var e;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K.a.get("".concat(M,"/health"));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(){var n=Object(A.a)(U.a.mark((function n(e){var t,r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(M,"/questions"),e&&(t="".concat(t,"?filter=").concat(e)),n.next=4,K.a.get(t);case 4:return r=n.sent,n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),V=function(){var n=Object(A.a)(U.a.mark((function n(e){var t;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K.a.get("".concat(M,"/questions/").concat(e));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),W=function(){var n=Object(A.a)(U.a.mark((function n(e,t){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K.a.post("".concat(M,"/share?destination_email=").concat(e,"&content_url=").concat(t));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),G=function(){var n=Object(A.a)(U.a.mark((function n(e,t){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K.a.put("".concat(M,"/questions/").concat(e),t);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),H=Object(F.createContext)(null),X=function(n){var e=n.children,t=Object(F.useState)([]),r=Object(Q.a)(t,2),c=r[0],a=r[1];Object(F.useEffect)((function(){Object(A.a)(U.a.mark((function n(){var e,t;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T();case 2:e=n.sent,t=e.data,200===e.status&&a(t);case 6:case"end":return n.stop()}}),n)})))()}),[]);var i={questions:c,setQuestions:a};return Object(E.jsx)(H.Provider,{value:i,children:e})},Y=t(3),Z=D.b.div(r||(r=Object(Y.a)(["\n  border: 8px solid ",";\n  border-radius: 50%;\n  border-top: 8px solid ",";\n  width: 80px;\n  height: 80px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n\n  @-webkit-keyframes spin {\n    0% { -webkit-transform: rotate(0deg); }\n    100% { -webkit-transform: rotate(360deg); }\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"])),(function(n){return n.theme.gray}),(function(n){return n.theme.primary})),$=D.b.div(c||(c=Object(Y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height:50vh;\n"]))),nn=function(){return Object(E.jsx)($,{children:Object(E.jsx)(Z,{"data-testid":"loader"})})},en=t(29),tn=D.b.div(a||(a=Object(Y.a)(["\n  position: relative;\n  padding:8px 30px 25px 0;\n  margin-top: 28px;\n  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.1);\n  background-color:#fff;\n  border-radius: 5px;\n  cursor: pointer;\n\n  span {\n    color: #757575;\n    font-size:12px;\n    letter-spacing:1px;\n    margin-left:10px;\n  }\n\n  img {\n    border-radius: 50%;\n    height: 50px;\n    width: 50px;\n    border: solid 1px ",";\n    padding: 4px;\n    align-items: center;\n  }\n"])),(function(n){return n.theme.primary})),rn=D.b.h3(i||(i=Object(Y.a)(["\n  font-weight: bold;\n  font-size: 22px;\n  margin-left:10px;\n  margin-bottom:0;\n  margin-top:0;\n  padding:0;\n  color:#616161;\n"]))),cn=D.b.div(o||(o=Object(Y.a)(["\n  padding: 8px 12px;\n  border-radius: 20px;\n  border: solid 2px ",";\n  font-size: 12px;\n  font-weight: 700;\n  color:",";\n  background-color:#FFF;\n  position: absolute;\n  top:-12px;\n  right:-20px;\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.primary})),an=D.b.div(s||(s=Object(Y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top:18px;\n"]))),on=D.b.div(u||(u=Object(Y.a)(["\n  align-items: center;\n"]))),sn=D.b.button(l||(l=Object(Y.a)(["\n  outline: 0;\n  background-color: ",";\n  color: #FFF;\n  text-align: center;\n  line-height: 42px;\n  border: 0;\n  font-size: 14px;\n  border-radius: 8px;\n  padding: 0 18px;\n  cursor: pointer;\n  margin-top: 18px;\n"])),(function(n){return n.theme.primary})),un=function(){var n=Object(P.f)(),e=Object(F.useContext)(H),t=e.questions,r=e.setQuestions,c=Object(F.useState)(!0),a=Object(Q.a)(c,2),i=a[0],o=a[1];Object(F.useEffect)((function(){Object(A.a)(U.a.mark((function n(){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.length>0&&o(!1);case 1:case"end":return n.stop()}}),n)})))()}),[t]);return Object(E.jsx)(E.Fragment,{children:i?Object(E.jsx)(nn,{}):Object(E.jsxs)(E.Fragment,{children:[t.length>0&&t.map((function(e){var t=e.question,r=e.id,c=e.thumb_url,a=e.published_at;return Object(E.jsxs)(tn,{onClick:function(){return n.push("/questions/".concat(r))},children:[Object(E.jsxs)(an,{children:[Object(E.jsx)("img",{src:c,alt:"thumbnail"}),Object(E.jsxs)(on,{children:[Object(E.jsx)(rn,{children:"#".concat(r," - ").concat(t)}),Object(E.jsxs)("span",{children:["Published ",new Date(a).toDateString()]})]})]}),Object(E.jsx)(cn,{children:"3,840 Votes"})]},r)})),Object(E.jsx)(an,{children:Object(E.jsx)(sn,{onClick:function(){return r([].concat(Object(en.a)(t),Object(en.a)(t)))},children:"Load more..."})})]})})},ln=D.b.div(p||(p=Object(Y.a)(["\n  display: flex;\n  align-items: center; \n  justify-content: center;\n  height: 100vh;\n"]))),pn=D.b.div(d||(d=Object(Y.a)(["\n  border: solid 1px ","; \n  width: 320px; \n  padding: 18px; \n  text-align:center;\n"])),(function(n){return n.theme.primary})),dn=D.b.button(b||(b=Object(Y.a)(["\n  background-color: ","; \n  margin-top: 8px;\n  color: white; \n  border: none;\n  padding: 8px;\n  cursor: pointer;\n"])),(function(n){return n.theme.primary})),bn=function(){return Object(E.jsx)(ln,{children:Object(E.jsxs)(pn,{children:["Service Unavailable. Please try again later.",Object(E.jsx)(dn,{onClick:function(){return window.location.reload()},children:"Try Again"})]})})},jn=t.p+"static/media/chevron-left.4e29fb95.svg",hn=D.b.div(j||(j=Object(Y.a)(["\n  display: flex;\n  padding: 12px 22px;\n  background-color:#fff;\n\n  a {\n    text-decoration: none;\n    color:#616161;\n  }\n\n  .logo {\n    display: flex;\n    cursor: pointer;\n  }\n  "]))),xn=function(n){var e=n.backNav;return Object(E.jsx)(hn,{children:Object(E.jsx)(B.b,{className:"logo",to:"/",children:e?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{src:jn,alt:"back navigation"})," Back to question list"]}):Object(E.jsx)("img",{src:"https://static.apiary.io/assets/1lqsC4I4.png",alt:"bliss logo"})})})},fn=D.b.div(h||(h=Object(Y.a)(["\n  .search-input {\n    outline: 0;\n    height: 42px;\n    width: 85%;\n    line-height: 42px;\n    padding: 0 16px;\n    color: #212121;\n    border: solid 1px ",";\n    float: left;\n    border-radius: 4px 0 0 4px;\n  }\n\n  button {\n    outline: 0;\n    background-color: ",";\n    color: #FFF;\n    height: 42px;\n    text-align: center;\n    line-height: 42px;\n    border: 0;\n    font-size: 16px;\n    -webkit-border-radius: 0 4px 4px 0;\n    border-radius: 0 4px 4px 0;\n    padding: 0 18px;\n    cursor: pointer;\n  }\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.primary})),On=function(){var n=Object(F.useState)(""),e=Object(Q.a)(n,2),t=e[0],r=e[1],c=Object(F.useContext)(H).setQuestions,a=Object(P.f)(),i=Object(P.g)().search,o=new URLSearchParams(i).get("filter"),s=Object(F.useRef)(),u=function(){var n=Object(A.a)(U.a.mark((function n(){var e,r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.push({pathname:"/questions",search:"?filter=".concat(t)}),n.next=3,T(t);case 3:e=n.sent,r=e.data,c(r);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(F.useEffect)((function(){o?(r(o),u(t)):""===o&&(s.current.focus(),u(t))}),[o]),Object(E.jsxs)(fn,{children:[Object(E.jsx)("input",{type:"search",className:"search-input",placeholder:"Filter\r questions...",onChange:function(n){return r(n.target.value)},value:t,ref:s}),Object(E.jsx)("button",{title:"Search",className:"btn",disabled:!t,onClick:u,children:"Filter"})]})},gn=D.b.div(x||(x=Object(Y.a)(["\n  display: block; \n  position: fixed;\n  z-index: 1;\n  padding-top: 100px;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%; \n  background-color: rgb(0,0,0);\n  background-color: rgba(0,0,0,0.4);\n"]))),mn=D.b.div(f||(f=Object(Y.a)(["\n  background-color: #fefefe;\n  margin: auto;\n  padding: 20px;\n  border: 1px solid #888;\n  width: 350px;\n\n  .close {\n    color: #aaaaaa;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n  }\n  \n  .close:hover,\n  .close:focus {\n    color: #000;\n    text-decoration: none;\n    cursor: pointer;\n  }\n"]))),vn=D.b.form(O||(O=Object(Y.a)(["\n  .text-input {\n    outline: 0;\n    height: 39px;\n    width: 60%;\n    line-height: 42px;\n    padding: 0 16px;\n    color: #212121;\n    border: solid 1px ",";\n    float: left;\n    border-radius: 4px 0 0 4px;\n  }\n\n  button {\n    outline: 0;\n    background-color: ",";\n    color: #FFF;\n    height: 42px;\n    text-align: center;\n    line-height: 42px;\n    border: 0;\n    font-size: 16px;\n    -webkit-border-radius: 0 4px 4px 0;\n    border-radius: 0 4px 4px 0;\n    padding: 0 18px;\n    cursor: pointer;\n  }\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.primary})),wn=D.b.span(g||(g=Object(Y.a)(["\n  color: "," !important;\n"])),(function(n){return n.theme.danger})),yn=function(n){var e=n.toggle,t=Object(F.useState)(""),r=Object(Q.a)(t,2),c=r[0],a=r[1],i=Object(F.useState)(!1),o=Object(Q.a)(i,2),s=o[0],u=o[1],l=/\S+@\S+\.\S+/,p=window.location.href,d=function(){var n=Object(A.a)(U.a.mark((function n(t){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,W(c,p);case 3:r=n.sent,"OK"===r.data.status&&(I.a.success("Link shared Successfully"),setTimeout((function(){return e()}),1e3));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(gn,{children:Object(E.jsxs)(mn,{children:[Object(E.jsx)("span",{className:"close",onClick:e,children:"\xd7"}),Object(E.jsxs)(vn,{children:[Object(E.jsx)("input",{type:"email",className:"text-input",placeholder:"enter email",onChange:function(n){return function(n){var e=n.target.value;a(e),l.test(e)?u(!0):u(!1)}(n)}}),Object(E.jsx)("button",{title:"share",className:"btn",onClick:function(n){return d(n)},children:"Share"})]}),!s&&c&&Object(E.jsx)(wn,{children:"enter a valid email"})]})})})},kn=t(24),Sn=t(21),Fn=D.b.div(m||(m=Object(Y.a)(["\n\n  h3 {\n    margin-bottom:0px;\n  }\n\n  span {\n    color: #757575;\n    font-size:12px;\n    letter-spacing:1px;\n  }\n\n  .option {\n    display:flex;\n    margin-top: 20px;\n    padding:18px 30px;\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.1);\n    background-color:#fff;\n    border-radius: 5px;\n    border: none;\n    width:100%;\n  }\n\n  .option:hover {\n    border: solid 2px ",";\n    cursor: pointer;\n  }\n\n  .choice {\n    margin-right: auto;\n  }\n"])),(function(n){return n.theme.primary})),Cn=D.b.div(v||(v=Object(Y.a)(["\n  width:100%;\n  align-items: center;\n"]))),qn=D.b.button(w||(w=Object(Y.a)(["\n  outline: 0;\n  color: ",";\n  height: 42px;\n  text-align: center;\n  line-height: 42px;\n  border: 0;\n  font-size: 16px;\n  border-radius: solid 1px ",";\n  padding: 0 18px;\n  cursor: pointer;\n  margin-top: 18px;\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.primary})),zn=function(n){var e=n.match,t=Object(F.useState)([]),r=Object(Q.a)(t,2),c=r[0],a=r[1],i=Object(F.useState)(!1),o=Object(Q.a)(i,2),s=o[0],u=o[1],l=Object(F.useState)(!0),p=Object(Q.a)(l,2),d=p[0],b=p[1],j=Object(F.useState)(!1),h=Object(Q.a)(j,2),x=h[0],f=h[1],O=e.params.questionId,g=c.id,m=c.question,v=c.image_url,w=c.published_at,y=c.choices,k=function(){return f(!x)};Object(F.useEffect)((function(){Object(A.a)(U.a.mark((function n(){var e,t;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V(O);case 2:e=n.sent,t=e.data,200===e.status&&(a(t),b(!1));case 6:case"end":return n.stop()}}),n)})))()}),[]);var S=function(){var n=Object(A.a)(U.a.mark((function n(e){var t,r,c;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.target.value,r=y.map((function(n){return n.choice===t&&(n.votes+=1),n})),a((function(n){return Object(Sn.a)(Object(Sn.a)({},n),{},Object(kn.a)({},"choices",r))})),n.next=5,G(O,r);case 5:c=n.sent,201===c.status&&I.a.success("Vote Successfully"),u(!0);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:d?Object(E.jsxs)(Cn,{children:[" ",Object(E.jsx)(nn,{})]}):Object(E.jsxs)(Fn,{children:[Object(E.jsxs)(E.Fragment,{children:[x&&Object(E.jsx)(yn,{toggle:k}),Object(E.jsx)("img",{src:v,alt:m}),Object(E.jsxs)("div",{style:{display:"flex"},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h3",{children:"#".concat(g," - ").concat(m)}),Object(E.jsxs)("span",{children:["Published ",new Date(w).toDateString(),"."]})]}),Object(E.jsx)("div",{style:{marginLeft:"auto"},children:Object(E.jsx)(qn,{onClick:k,children:"Share"})})]})]}),y&&y.map((function(n){var e=n.choice,t=n.votes;return Object(E.jsxs)("button",{className:"option",value:e,onClick:S,disabled:s,children:[Object(E.jsx)("div",{className:"choice",children:e}),Object(E.jsxs)("span",{children:[t," views"]})]},e)}))]})})},Dn=D.b.div(y||(y=Object(Y.a)(["\n  margin: 3% 30%;\n"]))),En=D.b.button(k||(k=Object(Y.a)(["\n  outline: 0;\n  color: ",";\n  height: 42px;\n  text-align: center;\n  line-height: 42px;\n  border: 0;\n  font-size: 16px;\n  border-radius: solid 1px ",";\n  padding: 0 18px;\n  cursor: pointer;\n  margin-top: 18px;\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.primary})),Ln=function(){var n=Object(F.useState)(!0),e=Object(Q.a)(n,2),t=e[0],r=e[1],c=Object(F.useState)(!1),a=Object(Q.a)(c,2),i=a[0],o=a[1],s=Object(F.useState)(!1),u=Object(Q.a)(s,2),l=u[0],p=u[1],d=function(){return o(!i)},b=function(){var n=Object(A.a)(U.a.mark((function n(){var e,t;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R();case 2:e=n.sent,"OK"===(t=e.data.status)?(r(!1),p(!0)):"Service Unavailable. Please try again later."===t&&(p(!1),r(!1));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(F.useEffect)((function(){b()}),[]),Object(E.jsx)(E.Fragment,{children:t?Object(E.jsx)(nn,{}):Object(E.jsxs)(E.Fragment,{children:[i&&Object(E.jsx)(yn,{toggle:d}),Object(E.jsx)(xn,{}),Object(E.jsxs)(Dn,{children:[Object(E.jsxs)("div",{style:{display:"grid"},children:[Object(E.jsx)(On,{}),Object(E.jsx)("div",{children:Object(E.jsx)(En,{onClick:d,children:"Share"})})]}),function(){if(!t)return l?Object(E.jsx)(un,{}):Object(E.jsx)(bn,{})}()]})]})})},Nn=D.b.div(S||(S=Object(Y.a)(["\n  margin 5% 20%;\n  display:flex;\n"]))),In=function(n){var e=n.match;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(xn,{backNav:!0}),Object(E.jsx)(Nn,{children:Object(E.jsx)(zn,{match:e})})]})},Bn=t(43),Pn=t(44),_n=t(46),Un=t(45);I.a.configure();var An,Qn=(An=function(){return Object(E.jsx)(X,{children:Object(E.jsxs)(B.a,{children:[Object(E.jsx)(P.b,{exact:!0,path:"/",children:Object(E.jsx)(P.a,{to:"/questions"})}),Object(E.jsx)(P.b,{component:Ln,exact:!0,path:"/questions"}),Object(E.jsx)(P.b,{component:In,exact:!0,path:"/questions/:questionId"})]})})},function(n){Object(_n.a)(t,n);var e=Object(Un.a)(t);function t(){var n;Object(Bn.a)(this,t);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(n=e.call.apply(e,[this].concat(c))).state={isDisconnected:!1},n.handleConnectionChange=function(){if("online"!==(navigator.onLine?"online":"offline"))return n.setState({isDisconnected:!0});var e=setInterval((function(){fetch("//google.com",{mode:"no-cors"}).then((function(){n.setState({isDisconnected:!1},(function(){return clearInterval(e)}))})).catch((function(){return n.setState({isDisconnected:!0})}))}),2e3)},n}return Object(Pn.a)(t,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){var n=this.state.isDisconnected;return Object(E.jsxs)("div",{children:[n&&I.a.error("Internet connection lost"),Object(E.jsx)(An,Object(Sn.a)({},this.props))]})}}]),t}(F.Component));z.a.render(Object(E.jsx)(C.a.StrictMode,{children:Object(E.jsx)(N,{children:Object(E.jsx)(Qn,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.619439ef.chunk.js.map